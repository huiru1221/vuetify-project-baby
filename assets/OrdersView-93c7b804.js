import{a1 as h,x as f,ah as y,a6 as s,a9 as V,a8 as n,c as u,aM as g,ab as t,a7 as c,ae as d,ac as _,ai as l}from"./index-12dc6e57.js";import{V as k}from"./VContainer-07c54a27.js";import{V as p}from"./VCol-11992b7f.js";import{V as b}from"./VRow-7286a1d6.js";const x=t("h1",null,"訂單管理",-1),w=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"日期"),t("th",null,"使用者"),t("th",null,"金額"),t("th",null,"商品")])],-1),q={__name:"OrdersView",setup(B){const m=h(),i=f([]);return(async()=>{try{const{data:r}=await y.get("/orders/all");i.value.push(...r.result.map(o=>(o.total=o.cart.reduce((a,e)=>a+e.product.price*e.quantity,0),o)))}catch(r){m({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(r,o)=>(s(),V(k,null,{default:n(()=>[u(b,null,{default:n(()=>[u(p,{cols:"12",class:"text-center text-secondary"},{default:n(()=>[x]),_:1}),u(p,{cols:"12"},{default:n(()=>[u(g,{color:"primary"},{default:n(()=>[w,t("tbody",null,[(s(!0),c(_,null,d(i.value,a=>(s(),c("tr",{key:a._id},[t("td",null,l(a._id),1),t("td",null,l(new Date(a.date).toLocaleString()),1),t("td",null,l(a.user.username),1),t("td",null,"NT."+l(a.total),1),t("td",null,[t("ul",null,[(s(!0),c(_,null,d(a.cart,e=>(s(),c("li",{style:{"list-style-image":"linear-gradient(0deg, #ffe9d4, #cc6600)"},key:e._id},l(e.product.name)+" * "+l(e.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{q as default};

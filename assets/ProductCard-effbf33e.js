import{aw as _,aq as q,ax as V,ay as w,az as G,a1 as R,a2 as N,a5 as j,a6 as X,a9 as U,a8 as $,c as B,V as Y,aA as K,ag as H,ai as E,aB as J,K as Q,H as W,X as Z,aC as ee,ah as ae}from"./index-06f6dd89.js";function te(d,e,y,o){return d.params.createElements&&Object.keys(o).forEach(f=>{if(!y[f]&&y.auto===!0){let l=_(d.el,`.${o[f]}`)[0];l||(l=q("div",o[f]),l.className=o[f],d.el.append(l)),y[f]=l,e[f]=l}}),y}function A(d){return d===void 0&&(d=""),`.${d.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function ie(d){let{swiper:e,extendParams:y,on:o,emit:f}=d;const l="swiper-pagination";y({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:a=>a,formatFractionTotal:a=>a,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),e.pagination={el:null,bullets:[]};let x,C=0;const h=a=>(Array.isArray(a)?a:[a]).filter(t=>!!t);function z(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function I(a,t){const{bulletActiveClass:s}=e.params.pagination;a&&(a=a[`${t==="prev"?"previous":"next"}ElementSibling`],a&&(a.classList.add(`${s}-${t}`),a=a[`${t==="prev"?"previous":"next"}ElementSibling`],a&&a.classList.add(`${s}-${t}-${t}`)))}function O(a){const t=a.target.closest(A(e.params.pagination.bulletClass));if(!t)return;a.preventDefault();const s=w(t)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===s)return;const i=e.getSlideIndexByData(s),c=e.getSlideIndexByData(e.realIndex);i>e.slides.length-e.loopedSlides&&e.loopFix({direction:i>c?"next":"prev",activeSlideIndex:i,slideTo:!1}),e.slideToLoop(s)}else e.slideTo(s)}function b(){const a=e.rtl,t=e.params.pagination;if(z())return;let s=e.pagination.el;s=h(s);let i,c;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(c=e.previousRealIndex||0,i=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(i=e.snapIndex,c=e.previousSnapIndex):(c=e.previousIndex||0,i=e.activeIndex||0),t.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const n=e.pagination.bullets;let m,g,S;if(t.dynamicBullets&&(x=V(n[0],e.isHorizontal()?"width":"height",!0),s.forEach(r=>{r.style[e.isHorizontal()?"width":"height"]=`${x*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&c!==void 0&&(C+=i-(c||0),C>t.dynamicMainBullets-1?C=t.dynamicMainBullets-1:C<0&&(C=0)),m=Math.max(i-C,0),g=m+(Math.min(n.length,t.dynamicMainBullets)-1),S=(g+m)/2),n.forEach(r=>{const p=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(u=>`${t.bulletActiveClass}${u}`)].map(u=>typeof u=="string"&&u.includes(" ")?u.split(" "):u).flat();r.classList.remove(...p)}),s.length>1)n.forEach(r=>{const p=w(r);p===i?r.classList.add(...t.bulletActiveClass.split(" ")):e.isElement&&r.setAttribute("part","bullet"),t.dynamicBullets&&(p>=m&&p<=g&&r.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),p===m&&I(r,"prev"),p===g&&I(r,"next"))});else{const r=n[i];if(r&&r.classList.add(...t.bulletActiveClass.split(" ")),e.isElement&&n.forEach((p,u)=>{p.setAttribute("part",u===i?"bullet-active":"bullet")}),t.dynamicBullets){const p=n[m],u=n[g];for(let L=m;L<=g;L+=1)n[L]&&n[L].classList.add(...`${t.bulletActiveClass}-main`.split(" "));I(p,"prev"),I(u,"next")}}if(t.dynamicBullets){const r=Math.min(n.length,t.dynamicMainBullets+4),p=(x*r-x)/2-S*x,u=a?"right":"left";n.forEach(L=>{L.style[e.isHorizontal()?u:"top"]=`${p}px`})}}s.forEach((n,m)=>{if(t.type==="fraction"&&(n.querySelectorAll(A(t.currentClass)).forEach(g=>{g.textContent=t.formatFractionCurrent(i+1)}),n.querySelectorAll(A(t.totalClass)).forEach(g=>{g.textContent=t.formatFractionTotal(P)})),t.type==="progressbar"){let g;t.progressbarOpposite?g=e.isHorizontal()?"vertical":"horizontal":g=e.isHorizontal()?"horizontal":"vertical";const S=(i+1)/P;let r=1,p=1;g==="horizontal"?r=S:p=S,n.querySelectorAll(A(t.progressbarFillClass)).forEach(u=>{u.style.transform=`translate3d(0,0,0) scaleX(${r}) scaleY(${p})`,u.style.transitionDuration=`${e.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(n.innerHTML=t.renderCustom(e,i+1,P),m===0&&f("paginationRender",n)):(m===0&&f("paginationRender",n),f("paginationUpdate",n)),e.params.watchOverflow&&e.enabled&&n.classList[e.isLocked?"add":"remove"](t.lockClass)})}function k(){const a=e.params.pagination;if(z())return;const t=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let s=e.pagination.el;s=h(s);let i="";if(a.type==="bullets"){let c=e.params.loop?Math.ceil(t/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&c>t&&(c=t);for(let v=0;v<c;v+=1)a.renderBullet?i+=a.renderBullet.call(e,v,a.bulletClass):i+=`<${a.bulletElement} ${e.isElement?'part="bullet"':""} class="${a.bulletClass}"></${a.bulletElement}>`}a.type==="fraction"&&(a.renderFraction?i=a.renderFraction.call(e,a.currentClass,a.totalClass):i=`<span class="${a.currentClass}"></span> / <span class="${a.totalClass}"></span>`),a.type==="progressbar"&&(a.renderProgressbar?i=a.renderProgressbar.call(e,a.progressbarFillClass):i=`<span class="${a.progressbarFillClass}"></span>`),e.pagination.bullets=[],s.forEach(c=>{a.type!=="custom"&&(c.innerHTML=i||""),a.type==="bullets"&&e.pagination.bullets.push(...c.querySelectorAll(A(a.bulletClass)))}),a.type!=="custom"&&f("paginationRender",s[0])}function M(){e.params.pagination=te(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const a=e.params.pagination;if(!a.el)return;let t;typeof a.el=="string"&&e.isElement&&(t=e.el.querySelector(a.el)),!t&&typeof a.el=="string"&&(t=[...document.querySelectorAll(a.el)]),t||(t=a.el),!(!t||t.length===0)&&(e.params.uniqueNavElements&&typeof a.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...e.el.querySelectorAll(a.el)],t.length>1&&(t=t.filter(s=>G(s,".swiper")[0]===e.el)[0])),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(e.pagination,{el:t}),t=h(t),t.forEach(s=>{a.type==="bullets"&&a.clickable&&s.classList.add(a.clickableClass),s.classList.add(a.modifierClass+a.type),s.classList.add(e.isHorizontal()?a.horizontalClass:a.verticalClass),a.type==="bullets"&&a.dynamicBullets&&(s.classList.add(`${a.modifierClass}${a.type}-dynamic`),C=0,a.dynamicMainBullets<1&&(a.dynamicMainBullets=1)),a.type==="progressbar"&&a.progressbarOpposite&&s.classList.add(a.progressbarOppositeClass),a.clickable&&s.addEventListener("click",O),e.enabled||s.classList.add(a.lockClass)}))}function D(){const a=e.params.pagination;if(z())return;let t=e.pagination.el;t&&(t=h(t),t.forEach(s=>{s.classList.remove(a.hiddenClass),s.classList.remove(a.modifierClass+a.type),s.classList.remove(e.isHorizontal()?a.horizontalClass:a.verticalClass),a.clickable&&s.removeEventListener("click",O)})),e.pagination.bullets&&e.pagination.bullets.forEach(s=>s.classList.remove(...a.bulletActiveClass.split(" ")))}o("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const a=e.params.pagination;let{el:t}=e.pagination;t=h(t),t.forEach(s=>{s.classList.remove(a.horizontalClass,a.verticalClass),s.classList.add(e.isHorizontal()?a.horizontalClass:a.verticalClass)})}),o("init",()=>{e.params.pagination.enabled===!1?T():(M(),k(),b())}),o("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),o("snapIndexChange",()=>{b()}),o("snapGridLengthChange",()=>{k(),b()}),o("destroy",()=>{D()}),o("enable disable",()=>{let{el:a}=e.pagination;a&&(a=h(a),a.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),o("lock unlock",()=>{b()}),o("click",(a,t)=>{const s=t.target,i=h(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&i&&i.length>0&&!s.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&s===e.navigation.nextEl||e.navigation.prevEl&&s===e.navigation.prevEl))return;const c=i[0].classList.contains(e.params.pagination.hiddenClass);f(c===!0?"paginationShow":"paginationHide"),i.forEach(v=>v.classList.toggle(e.params.pagination.hiddenClass))}});const F=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:a}=e.pagination;a&&(a=h(a),a.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),M(),k(),b()},T=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:a}=e.pagination;a&&(a=h(a),a.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),D()};Object.assign(e.pagination,{enable:F,disable:T,render:k,update:b,init:M,destroy:D})}const le={__name:"ProductCard",props:{_id:{type:String,default:()=>""},category:{type:String,default:()=>""},description:{type:String,default:()=>""},image:{type:String,default:()=>""},name:{type:String,default:()=>""},price:{type:Number,default:()=>0},sell:{type:Boolean,default:()=>!0}},setup(d){const e=d,y=R(),o=N(),f=async()=>{try{const{data:l}=await ae.post("/users/cart",{product:e._id,quantity:1});o.cart=l.result}catch(l){y({text:l.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(l,x)=>{const C=j("RouterLink");return X(),U(ee,{id:"productCard"},{default:$(()=>[B(Y,{class:"img",src:d.image,cover:""},null,8,["src"]),B(K,{id:"productCardTitle"},{default:$(()=>[B(C,{to:"/products/"+d._id,class:"productCardRouterLink text-secondary text-decoration-none"},{default:$(()=>[H(E(d.name),1)]),_:1},8,["to"])]),_:1}),B(J,{class:"productCardSubtitle text-secondary"},{default:$(()=>[H("NT. "+E(d.price),1)]),_:1}),B(Q,W({class:"cartBtn",icon:""},e,{color:"error",style:{position:"absolute",bottom:"20%",left:"calc(100% - 50px - 1em)"}}),{default:$(()=>[B(Z,{color:"white",onClick:f},{default:$(()=>[H(" mdi-cart")]),_:1})]),_:1},16)]),_:1})}}};export{ie as P,le as _,te as c};
